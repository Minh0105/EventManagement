<!DOCTYPE html>
<html>
<head>
    <title>hdfdsfs</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="profile" href="http://gmpg.org/xfn/11" />
    <script src="//code.jquery.com/jquery-1.10.2.js"></script>
    <script src='https://cdn.firebase.com/v0/firebase.js'></script>
	<style>
	#messages{background:#000;color:#fff;padding:10px;font-weight:bold;width:400px;max-height:300px;overflow:auto;}
	</style>
</head>
<body>
<div id="messages">
	
</div>

<form onsubmit="return false;">
	<input type="text" value="" name="txt"/>
<input type="submit" onclick="sendMsg(this.form)"/>
</form>
<script>
var newItems = false;
function sendMsg(frm){
	//get message
	var msg=frm.txt.value;
	//add new data to firebase location
	ref.push({time:(new Date()).toUTCString(),msg:msg});
	//clear input text
	frm.txt.value="";
}
var ref = new Firebase('https://react-getting-started-30bc6-default-rtdb.firebaseio.com/messages');
ref.on('child_added', function(snapshot) {
//	if (!newItems) return;
  //We'll fill this in later.
  var message=snapshot.val();		
  $('#messages').append($('<div/>').css({border:'1px solid yellow'}).html(JSON.stringify(message['msg'])));
});
    
//ref.once('value', function(snapshot) {   //sự kiện cho item mới
////  $('#messages').append($('<div/>').css({border:'1px solid yellow'}).html(JSON.stringify(messages.val())));
//    console.log("get All");
//});
</script>

</body>
</html>